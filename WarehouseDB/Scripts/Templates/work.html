<style>
    tr td input {
        min-width: 55px;
    }

    .table-header-rotated th.row-header {
        width: auto;
    }

    .link-btn /deep/ .mat-button-focus-overlay {
        background-color: transparent;
    }

    .chipsdemoBasicUsage .errors {
        font-size: 12px;
        color: #dd2c00;
        margin-top: 10px;
    }

    .chipsdemoBasicUsage .custom-chips md-chip {
        position: relative;
    }

        .chipsdemoBasicUsage .custom-chips md-chip .md-chip-remove-container {
            position: absolute;
            right: 4px;
            top: 4px;
            margin-right: 0;
            height: 24px;
        }

            .chipsdemoBasicUsage .custom-chips md-chip .md-chip-remove-container button.vegetablechip {
                position: relative;
                height: 24px;
                width: 24px;
                line-height: 30px;
                text-align: center;
                background: rgba(0, 0, 0, 0.3);
                border-radius: 50%;
                border: none;
                box-shadow: none;
                padding: 0;
                margin: 0;
                transition: background 0.15s linear;
                display: block;
            }

                .chipsdemoBasicUsage .custom-chips md-chip .md-chip-remove-container button.vegetablechip md-icon {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate3d(-50%, -50%, 0) scale(0.7);
                    color: white;
                    fill: white;
                }

                .chipsdemoBasicUsage .custom-chips md-chip .md-chip-remove-container button.vegetablechip:hover, .chipsdemoBasicUsage .custom-chips md-chip .md-chip-remove-container button.vegetablechip:focus {
                    background: rgba(255, 0, 0, 0.8);
                }

    .chipsdemoBasicUsage .custom-chips md-chips-wrap.md-removable md-chip md-chip-template {
        padding-right: 5px;
    }

    .table-header-rotated td {
        width: auto;
        vertical-align: middle;
        text-align: center;
    }

    .table tbody tr td {
        padding: 0 2px 0 2px !important;
        text-align: center !important;
        vertical-align: middle !important;
    }

    .table-header-rotated th.rotate-45 {
        height: 100px;
        width: 40px;
        min-width: 100px;
        max-width: 40px;
        position: relative;
        vertical-align: middle;
        text-align: center;
        padding: 0;
        font-size: 12px;
        line-height: 0.8;
        white-space: inherit !important;
    }

        .table-header-rotated th.rotate-45 > div {
            position: relative;
            top: 0px;
            left: 40px; /* 80 * tan(45) / 2 = 40 where 80 is the height on the cell and 45 is the transform angle*/
            height: 100%;
            -ms-transform: skew(-45deg,0deg);
            -moz-transform: skew(-45deg,0deg);
            -webkit-transform: skew(-45deg,0deg);
            -o-transform: skew(-45deg,0deg);
            transform: skew(-45deg,0deg);
            overflow: hidden;
            border-left: 1px solid #dddddd;
            border-right: 1px solid #dddddd;
        }

        .table-header-rotated th.rotate-45 span {
            -ms-transform: skew(45deg,0deg) rotate(315deg);
            -moz-transform: skew(45deg,0deg) rotate(315deg);
            -webkit-transform: skew(45deg,0deg) rotate(315deg);
            -o-transform: skew(45deg,0deg) rotate(315deg);
            transform: skew(45deg,0deg) rotate(315deg);
            position: absolute;
            bottom: 30px; /* 40 cos(45) = 28 with an additional 2px margin*/
            left: -25px; /*Because it looked good, but there is probably a mathematical link here as well*/
            display: inline-block;
            /*// width: 100%;*/
            width: 85px; /* 80 / cos(45) - 40 cos (45) = 85 where 80 is the height of the cell, 40 the width of the cell and 45 the transform angle*/
            text-align: left;
            white-space: inherit !important;
            /*// white-space: nowrap;whether to display in one line or not*/
        }

    .green {
        color: #8BC34A !important;
    }

    .red {
        color: #FFC107 !important;
    }

    :focus {
        outline: 0 !important;
    }

    .noPadding {
        padding: 0 !important;
    }

    td p {
        padding: 10px;
        margin: 0;
    }

    td.special {
        border: 1px solid #eee;
    }

    .ng-hide.ng-hide-animate {
        display: none !important;
    }
</style>
<div class="container-fluid">

    <!-- Basic Table -->
    <div class="row clearfix">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="card">
                <div class="header">
                    <h2>
                        Cведения О МТЦ
                        <small>Сведения о МТЦ, поступающих, хранящихся и выдаваемых со склада КТ</small>
                    </h2>
                    <ul class="header-dropdown m-r--5">
                        <li class="dropdown">
                            <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                <i class="material-icons">more_vert</i>
                            </a>
                            <ul class="dropdown-menu pull-right">
                                <li><a href="javascript:void(0);" class=" waves-effect waves-block">Action</a></li>
                                <li><a href="javascript:void(0);" class=" waves-effect waves-block">Another action</a></li>
                                <li><a href="javascript:void(0);" class=" waves-effect waves-block">Something else here</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="body table-responsive js-sweetalert   chipsdemobasicusage">

                    <table class="table table-header-rotated  table-condensed  " style="border-collapse:collapse;">
                        <md-input-container style="margin: 18px 0 0 0;">
                            <label>Кол-во</label>
                            <md-select ng-model="pageSizeSelected" ng-change="changePageSize()">

                                <md-option ng-repeat="pageSize in  pageSizes" ng-value="pageSize.abbrev" ng-selected="$first">
                                    {{pageSize.abbrev}}
                                </md-option>
                            </md-select>
                        </md-input-container>

                        <md-button aria-label="Custom Icon Button" ng-show="archive" class="md-icon-button md-accent  waves-effect waves-pink " ng-click="showarchive()">
                            <md-icon> archive</md-icon>

                        </md-button>

                        <md-button ng-show="!archive" class="md-icon-button  waves-effect waves-pink " ng-click="showarchive()">
                            <md-icon> archive</md-icon>
                        </md-button>
                        <label style="padding-right: 10px ;">Просмотр архива</label>




                        <div class="row" style="padding-bottom: 20px;">
                            <md-chips md-transform-chip="newVeg($chip)" ng-model="launchAPIQueryParams.types" md-on-remove="chipdelete($chip)">

                                <md-autocomplete style="width:100%" md-selected-item="selectedOption"
                                                 md-search-text="searchText"
                                                 md-items="typeOption in launchTypeOptions"
                                                 md-item-text="typeOption.name"
                                                 md-min-length="0"
                                                 md-search-text-change="searchTextChange(searchText)"
                                                 placeholder="Поиск по....">
                                    <span md-highlight-text="searchText">{{typeOption.name}}</span>
                                </md-autocomplete>
                                <md-chip-template>
                                    <span>{{$chip.name}}</span>
                                </md-chip-template>
                            </md-chips>
                        </div>
                        <div class="row" style="padding-bottom: 20px;" ng-show="Data_priyoma">
                            <label>Дата приёма (Начало периода):</label>

                            <md-input-container style="margin: 0 0; padding-right: 10px;" dividercolor="primary" ng-model="Data_priyoma_str1 ">
                                <md-datepicker ng-model="Data_priyoma_str1 " ng-change="updateCalcs()" md-placeholder="Введите дату"></md-datepicker>


                            </md-input-container>
                            <label>Дата приёма (Конец периода):</b></label>

                            <md-input-container style="margin: 0 0; " dividercolor="primary">
                                <md-datepicker ng-model="Data_priyoma_str2 " md-placeholder="Введите дату" ng-change="updateCalcs()"></md-datepicker>


                            </md-input-container>
                        </div>
                        <div class="row" style="padding-bottom: 20px;" ng-show="Data_vydachi">
                            <label>Дата выдачи (Начало периода):</label>

                            <md-input-container style="margin: 0 0; padding-right: 10px;" dividercolor="primary">
                                <md-datepicker ng-model="Data_vydachi_str1 " md-placeholder="Введите дату" ng-change="updateCalcs()"></md-datepicker>


                            </md-input-container>
                            <label>Дата выдачи (Конец периода):</b></label>

                            <md-input-container style="margin: 0 0; " dividercolor="primary">
                                <md-datepicker ng-model="Data_vydachi_str2 " md-placeholder="Введите дату" ng-change="updateCalcs()"></md-datepicker>


                            </md-input-container>
                        </div>
                </div>
                <!--<div class="row" style="margin-top:60px;">-->

                <thead>

                    <tr>
                        <th>
                            <md-icon style=" color : green;" ng-click="addRow()" data-type="cancel">  add</md-icon>
                        </th>


                        <th class="rotate-45">
                            <div>

                                <span>Номер упаковки</span>
                            </div>
                        </th>
                        <th class="rotate-45">
                            <div><span>Наименование изделия</span><span> </span></div>


                        </th>
                        <th class="rotate-45"><div><span>Заводской номер</span></div></th>
                        <th class="rotate-45"><div><span>Количество</span></div></th>
                        <th class="rotate-45"><div><span>Местонахождение на складе</span></div></th>
                        <!--<th class="rotate-45"><div><span>Обозначение</span></div></th>-->
                        <th class="rotate-45"><div><span>Система</span></div></th>
                        <th class="rotate-45"><div><span>Ответственный</span></div></th>
                        <th class="rotate-45"><div><span>Принадлежность</span></div></th>
                        <th class="rotate-45"><div><span>Дата приёма</span></div></th>
                        <th class="rotate-45"><div><span>Откуда</span></div></th>
                        <th class="rotate-45"><div><span>Дата выдачи</span></div></th>
                        <th class="rotate-45"><div><span>Куда</span></div></th>
                        <th class="rotate-45"><div><span>Номер пломбы</span></div></th>
                        <th class="rotate-45"><div><span>Стоимость</span></div></th>
                        <th class="rotate-45"><div><span>Вес брутто</span></div></th>
                        <th class="rotate-45"><div><span>Вес нетто</span></div></th>
                        <th class="rotate-45"><div><span>Длина</span></div></th>
                        <th class="rotate-45"><div><span>Ширина</span></div></th>
                        <th class="rotate-45"><div><span>Высота</span></div></th>

                        <th class="rotate-45"><div><span>Примечание</span></div></th>
                        <th class="rotate-45"><div><span>Добавил</span></div></th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <td></td>


                        <td>


                            <md-button ng-show="GetStatusSort('Номер упаковки')==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Номер упаковки')">
                                <md-icon> import_export</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Номер упаковки')==1" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Номер упаковки')">
                                <md-icon style="transform: rotate(180deg);"> sort</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Номер упаковки')==2" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Номер упаковки')">
                                <md-icon> sort</md-icon>
                            </md-button>
                        </td>
                        <td>
                            <md-button ng-show="GetStatusSort('Наименование изделия')==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Наименование изделия')">
                                <md-icon> import_export</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Наименование изделия')==1" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Наименование изделия')">
                                <md-icon style="transform: rotate(180deg);"> sort</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Наименование изделия')==2" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Наименование изделия')">
                                <md-icon> sort</md-icon>
                            </md-button>
                        </td>
                        <td>
                            <md-button ng-show="GetStatusSort('Заводской номер')==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Заводской номер')">
                                <md-icon> import_export</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Заводской номер')==1" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Заводской номер')">
                                <md-icon style="transform: rotate(180deg);"> sort</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Заводской номер')==2" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Заводской номер')">
                                <md-icon> sort</md-icon>
                            </md-button>
                        </td>
                        <td>
                            <md-button ng-show="GetStatusSort('Количество')==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Количество')">
                                <md-icon> import_export</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Количество')==1" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Количество')">
                                <md-icon style="transform: rotate(180deg);"> sort</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Количество')==2" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Количество')">
                                <md-icon> sort</md-icon>
                            </md-button>
                        </td>
                        <td>
                            <md-button ng-show="GetStatusSort('Местонахождение на складе')==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Местонахождение на складе')">
                                <md-icon> import_export</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Местонахождение на складе')==1" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Местонахождение на складе')">
                                <md-icon style="transform: rotate(180deg);"> sort</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Местонахождение на складе')==2" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Местонахождение на складе')">
                                <md-icon> sort</md-icon>
                            </md-button>
                        </td>

                        <td>
                            <md-button ng-show="GetStatusSort('Система')==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Система')">
                                <md-icon> import_export</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Система')==1" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Система')">
                                <md-icon style="transform: rotate(180deg);"> sort</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Система')==2" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Система')">
                                <md-icon> sort</md-icon>
                            </md-button>
                        </td>
                        <td>
                            <md-button ng-show="GetStatusSort('Ответственный')==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Ответственный')">
                                <md-icon> import_export</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Ответственный')==1" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Ответственный')">
                                <md-icon style="transform: rotate(180deg);"> sort</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Ответственный')==2" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Ответственный')">
                                <md-icon> sort</md-icon>
                            </md-button>
                        </td>
                        <td>
                            <md-button ng-show="GetStatusSort('Принадлежность')==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Принадлежность')">
                                <md-icon> import_export</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Принадлежность')==1" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Принадлежность')">
                                <md-icon style="transform: rotate(180deg);"> sort</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Принадлежность')==2" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Принадлежность')">
                                <md-icon> sort</md-icon>
                            </md-button>
                        </td>
                        <td>
                            <md-button ng-show="GetStatusSort('Дата приёма')==0&&GetLengthFilter()==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Дата приёма')">
                                <md-icon> import_export</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Дата приёма')==1&&GetLengthFilter()==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Дата приёма')">
                                <md-icon style="transform: rotate(180deg);"> sort</md-icon>
                            </md-button>

                        </td>
                        <td></td>
                        <td>
                            <md-button ng-show="GetStatusSort('Дата выдачи')==0&&GetLengthFilter()==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Дата выдачи')">
                                <md-icon> import_export</md-icon>
                            </md-button>
                            <md-button ng-show="GetStatusSort('Дата выдачи')==1&&GetLengthFilter()==0" class="md-icon-button  waves-effect waves-blue " ng-click="SortChange('Дата выдачи')">
                                <md-icon style="transform: rotate(180deg);"> sort</md-icon>
                            </md-button>

                        </td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>

                        <td></td>
                        <td></td>
                    </tr>
                    <tr ng-repeat-start="user in userList track by $index" class="accordion-toggle">

                        <td style="display: inline-flex !important; border-bottom: 0px !important;">




                            <!--<a ng-show="!user.showSub" class="green shortinfo" href="javascript:;" ng-click="childInfo(user )" title="Click to view more">
                                <i class="material-icons" data-toggle="collapse" data-target="#row-{{$index}}">storage</i>

                            </a>
                            <a ng-show="user.showSub" class="red shortinfo" href="javascript:;" ng-click="childInfo(user )" title="Click to view more">
                                <i class="material-icons " data-toggle="collapse" data-target="#row-{{$index}}">storage</i>
                            </a>-->
                            <md-icon data-toggle="collapse" class=" float-icon" style="    color: #555;" data-target="#rowH-{{$index}}" ng-show="!user.showHistory && user.IsHistory  " ng-click="gethistory(user )">schedule</md-icon>
                            <md-icon style=" color :orange;" data-toggle="collapse" data-target="#rowH-{{$index}}" ng-show="user.showHistory && user.IsHistory  " ng-click="gethistory(user )">schedule</md-icon>
                            <!--<md-icon style=" color :orange;" data-toggle="collapse" data-target="#row-{{$index}}" ng-show="user.showSub" ng-click="childInfo(user )">schedule</md-icon>-->

                            <md-icon data-toggle="collapse" class=" float-icon" style="    color:  #ddd;" data-target="#rowH-{{$index}}" ng-show="!user.IsHistory  ">schedule</md-icon>



                            <md-icon data-toggle="collapse" style="    color: #555;" data-target="#row-{{$index}}" ng-show="!user.showSub && (IsSub(user) || !user.showEdit )" ng-click="childInfo(user )" id="{{user.id}}">storage</md-icon>
                            <md-icon style=" color :orange;" data-toggle="collapse" data-target="#row-{{$index}}" ng-show="user.showSub &&( IsSub(user) || !user.showEdit) " ng-click="childInfo(user )" id="{{user.id}}">storage</md-icon>

                            <md-icon data-toggle="collapse" id="{{user.id}}" style="    color: #ddd;" data-target="#row-{{$index}}" ng-show=" !IsSub(user)&& user.showEdit">storage</md-icon>

                            <md-button ng-show="!archive" class="md-icon-button  waves-effect waves-purple   " ng-click="archivete(user)">
                                <md-icon style=" color :#555;"> archive</md-icon>
                            </md-button>
                            <md-button ng-show="archive" class="md-icon-button  waves-effect waves-purple   " ng-click="unarchivete(user)">
                                <md-icon style=" color :#555;"> unarchive</md-icon>
                            </md-button>
                            <md-icon style=" color :#555;" ng-show="user.showEdit" ng-click="toggleEdit(user)">edit</md-icon>
                            <md-icon style=" color :#555;" ng-show="!user.showEdit" ng-click="cancelEdit(user)">close</md-icon>
                            <md-icon style=" color :#555;" ng-show="!user.showEdit" ng-click="acceptEdit(user)">done</md-icon>
                            <md-icon style=" color :#555;" ng-click="delete(user)" data-type="cancel">delete_forever</md-icon>


                        </td>


                        <td scope="row" class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Nomer_upakovki}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Номер упаковки" ng-show="!user.showEdit" type="text" ng-model="user.value.Nomer_upakovki">
                                <div ng-show="!isNumber(user.value.Nomer_upakovki)||!user.value.Nomer_upakovki||!isInteger(user.value.Nomer_upakovki)">

                                    <div ng-message="required" ng-show=" !user.value.Nomer_upakovki">Обязательное поле</div>
                                    <div ng-message="required" ng-show=" !isNumber(user.value.Nomer_upakovki)&&user.value.Nomer_upakovki">Числовое поле</div>
                                    <div ng-message="required" ng-show=" isNumber(user.value.Nomer_upakovki)&&user.value.Nomer_upakovki&&!isInteger(user.value.Nomer_upakovki)">Целое число</div>

                                </div>
                            </md-input-container>


                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Naimenovanie_izdeliya}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Наименование изделия" ng-show="!user.showEdit" type="text" ng-model="user.value.Naimenovanie_izdeliya">
                                <div ng-show="!user.value.Naimenovanie_izdeliya">

                                    <div ng-message="required" ng-show=" !user.value.Naimenovanie_izdeliya">Обязательное поле</div>
                                </div>
                            </md-input-container>

                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Zavodskoj_nomer}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Заводской номер" ng-show="!user.showEdit" type="text" ng-model="user.value.Zavodskoj_nomer">
                                <div ng-show="!user.value.Zavodskoj_nomer">

                                    <div ng-message="required" ng-show=" !user.value.Zavodskoj_nomer">Обязательное поле</div>
                                </div>
                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Kolichestvo}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Количество" ng-show="!user.showEdit" type="text" ng-model="user.value.Kolichestvo">
                                <div ng-show="!isNumber(user.value.Kolichestvo)||!user.value.Kolichestvo||user.value.Kolichestvo==0||!isInteger(user.value.Kolichestvo)">

                                    <div ng-message="required" ng-show=" !user.value.Kolichestvo">Обязательное поле</div>
                                    <div ng-message="required" ng-show=" (!isNumber(user.value.Kolichestvo)||user.value.Kolichestvo==0)&&user.value.Kolichestvo">Числовое положительное поле</div>
                                    <div ng-message="required" ng-show=" isNumber(user.value.Kolichestvo)&&user.value.Kolichestvo&&!isInteger(user.value.Kolichestvo)">Целое число</div>

                                </div>
                            </md-input-container>
                        </td>

                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Mestonahozhdenie_na_sklade}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Адрес" ng-show="!user.showEdit" type="text" ng-model="user.value.Mestonahozhdenie_na_sklade">
                                <div ng-show="!user.value.Mestonahozhdenie_na_sklade ">

                                    <div ng-message="required" ng-show=" !user.value.Mestonahozhdenie_na_sklade">Обязательное поле</div>
                                </div>
                            </md-input-container>

                        </td>
                        <!--<td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Oboznachenie}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Обозначение" ng-show="!user.showEdit" type="text" ng-model="user.value.Oboznachenie">

                            </md-input-container>
                        </td>-->
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Sistema}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Система" ng-show="!user.showEdit" type="text" ng-model="user.value.Sistema">
                                <div ng-show="!user.value.Sistema ">

                                    <div ng-message="required" ng-show=" !user.value.Sistema">Обязательное поле</div>
                                </div>
                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Otvetstvennyj}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Ответственный" ng-show="!user.showEdit" type="text" ng-model="user.value.Otvetstvennyj">
                                <div ng-show="!user.value.Otvetstvennyj ">

                                    <div ng-message="required" ng-show=" !user.value.Otvetstvennyj">Обязательное поле</div>
                                </div>
                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Prinadlezhnost}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Принадлежность" ng-show="!user.showEdit" type="text" ng-model="user.value.Prinadlezhnost">
                                <div ng-show="!user.value.Prinadlezhnost ">

                                    <div ng-message="required" ng-show=" !user.value.Prinadlezhnost">Обязательное поле</div>
                                </div>
                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Data_priyoma |  amDateFormat:'DD.MM.YYYY' }}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <md-datepicker ng-model="user.value.Data_priyoma" md-placeholder="Enter date"></md-datepicker>

                                <div ng-show="!user.value.Data_priyoma ">

                                    <div ng-message="required" ng-show=" !user.value.Data_priyoma">Обязательное поле</div>
                                </div>
                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Otkuda}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Откуда" ng-show="!user.showEdit" type="text" ng-model="user.value.Otkuda">

                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Data_vydachi  |  amDateFormat:'DD.MM.YYYY'}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <md-datepicker ng-model="user.value.Data_vydachi" md-placeholder="Enter date"></md-datepicker>


                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Kuda}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Куда" ng-show="!user.showEdit" type="text" ng-model="user.value.Kuda">

                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Nomer_plomby}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Номер пломбы" ng-show="!user.showEdit" type="text" ng-model="user.value.Nomer_plomby">

                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Stoimost}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Стоимость" ng-show="!user.showEdit" type="text" ng-model="user.value.Stoimost">
                                <div ng-show="!isNumber(user.value.Stoimost)&&user.value.Stoimost ">

                                    <div ng-message="required">Числовое поле</div>
                                </div>
                            </md-input-container>
                        </td>

                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Ves_brutto}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Вес брутто" ng-show="!user.showEdit" type="text" ng-model="user.value.Ves_brutto">
                                <div ng-show="!isNumber(user.value.Ves_brutto)&&user.value.Ves_brutto ">

                                    <div ng-message="required">Числовое поле</div>
                                </div>
                            </md-input-container>

                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Ves_netto}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Вес нетто" ng-show="!user.showEdit" type="text" ng-model="user.value.Ves_netto">
                                <div ng-show="!isNumber(user.value.Ves_netto)&&user.value.Ves_netto ">

                                    <div ng-message="required">Числовое поле</div>
                                </div>
                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Dlina}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Длина" ng-show="!user.showEdit" type="text" ng-model="user.value.Dlina">
                                <div ng-show="!isNumber(user.value.Dlina)&&user.value.Dlina ">

                                    <div ng-message="required">Числовое поле</div>
                                </div>
                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Shirina}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Ширина" ng-show="!user.showEdit" type="text" ng-model="user.value.Shirina">
                                <div ng-show="!isNumber(user.value.Shirina)&&user.value.Shirina ">

                                    <div ng-message="required">Числовое поле</div>
                                </div>
                            </md-input-container>
                        </td>
                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Vysota}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Высота" ng-show="!user.showEdit" type="text" ng-model="user.value.Vysota">
                                <div ng-show="!isNumber(user.value.Vysota)&&user.value.Vysota ">

                                    <div ng-message="required">Числовое поле</div>
                                </div>
                            </md-input-container>
                        </td>

                        <td class="special">
                            <span ng-show="user.showEdit">
                                {{user.value.Primechanie}}
                            </span>
                            <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                <input aria-label="Примечание" ng-show="!user.showEdit" type="text" ng-model="user.value.Primechanie">

                            </md-input-container>
                        </td>
                        <td ng-show="user.showEdit" class="special">
                            <span>
                                {{user.value.Dobavil}}
                            </span>

                        </td>
                    </tr>
                    <tr ng-repeat-end>
                        <td colspan="23" class="noPadding">

                            <table ng-show="user.showSub" class="table table-striped  collapse collapsible  noPadding" id="row-{{$index}}" style="width: 30%;  float: left;">
                                <tr>
                                    <th>
                                        Наименовани составной единицы :
                                    </th>
                                    <th>Обозначение составной единицы:</th>
                                    <th>Количество составных единиц :</th>
                                    <th style="vertical-align:central"> <md-icon ng-show="!user.showEdit" style=" color : green;" ng-click="AddSub(user)" data-type="cancel">  add</md-icon></th>
                                </tr>
                                <tr ng-repeat="u in user.value.Soderzhimoe">
                                    <td class="special">
                                        <span ng-show="user.showEdit">
                                            {{u.Naimenovanie_sostavnoj_edinicy}}
                                        </span>
                                        <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                            <input aria-label="Наименование составной единицы" ng-show="!user.showEdit" type="text" ng-model="u.Naimenovanie_sostavnoj_edinicy">
                                            <div ng-show=" !u.Naimenovanie_sostavnoj_edinicy ">

                                                <div ng-message="required" ng-show=" !u.Naimenovanie_sostavnoj_edinicy">Обязательное поле</div>
                                            </div>
                                        </md-input-container>
                                    </td>


                                    <td class="special">
                                        <span ng-show="user.showEdit">
                                            {{u.Oboznachenie_sostavnoj_edinicy}}
                                        </span>
                                        <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                            <input aria-label="Обозначение составной единицы" ng-show="!user.showEdit" type="text" ng-model="u.Oboznachenie_sostavnoj_edinicy">

                                        </md-input-container>
                                    </td>


                                    <td>
                                        <span ng-show="user.showEdit">
                                            {{u.Kolichestvo_sostavnyh_edinic}}
                                        </span>
                                        <md-input-container ng-show="!user.showEdit" style="margin: 0 0; " dividercolor="primary">
                                            <input aria-label="Количество составной единицы" ng-show="!user.showEdit" type="text" ng-model="u.Kolichestvo_sostavnyh_edinic">
                                            <div ng-show="!isNumber(u.Kolichestvo_sostavnyh_edinic)||!u.Kolichestvo_sostavnyh_edinic||u.Kolichestvo_sostavnyh_edinic==0||!isInteger(u.Naimenovanie_sostavnoj_edinicy)">

                                                <div ng-message="required" ng-show=" !u.Kolichestvo_sostavnyh_edinic">Обязательное поле</div>
                                                <div ng-message="required" ng-show=" (!isNumber(u.Kolichestvo_sostavnyh_edinic)||u.Kolichestvo_sostavnyh_edinic==0)&&u.Naimenovanie_sostavnoj_edinicy">Числовое положительное поле</div>
                                                <div ng-message="required" ng-show=" isNumber(u.Kolichestvo_sostavnyh_edinic)&&u.Kolichestvo_sostavnyh_edinic&&!isInteger(u.Kolichestvo_sostavnyh_edinic)">Целое число</div>

                                            </div>
                                        </md-input-container>
                                    </td>
                                    <td style="display: inline-flex !important; border-bottom: 0px !important;">


                                        <md-icon ng-show="!user.showEdit" style=" color :#555;" ng-click="deleteSub(user, $index);">delete_forever</md-icon>


                                    </td>
                                </tr>




                            </table>

                            <table ng-show="user.showHistory" class="table table-striped  collapse collapsible  noPadding" id="rowH-{{$index}}" style="width: 30%;  float: left;">
                                <tr>
                                    <th style="padding: 2% !important;"> </th>
                                    <th style="padding: 2% !important;"> </th>
                                    <th style="padding: 2% !important;"> </th>
                                    <th class="rotate-45"><div><span>Номер упаковки</span></div></th>
                                    <th class="rotate-45"><div><span>Наименование изделия</span></div></th>
                                    <th class="rotate-45"><div><span>Заводской номер</span></div></th>
                                    <th class="rotate-45"><div><span>Количество</span></div></th>
                                    <th class="rotate-45"><div><span>Местонахождение на складе</span></div></th>
                                    <!--<th class="rotate-45"><div><span>Обозначение</span></div></th>-->
                                    <th class="rotate-45"><div><span>Система</span></div></th>
                                    <th class="rotate-45"><div><span>Ответственный</span></div></th>
                                    <th class="rotate-45"><div><span>Принадлежность</span></div></th>
                                    <th class="rotate-45"><div><span>Дата приёма</span></div></th>
                                    <th class="rotate-45"><div><span>Откуда</span></div></th>
                                    <th class="rotate-45"><div><span>Дата выдачи</span></div></th>
                                    <th class="rotate-45"><div><span>Куда</span></div></th>
                                    <th class="rotate-45"><div><span>Номер пломбы</span></div></th>
                                    <th class="rotate-45"><div><span>Стоимость</span></div></th>
                                    <th class="rotate-45"><div><span>Вес брутто</span></div></th>
                                    <th class="rotate-45"><div><span>Вес нетто</span></div></th>
                                    <th class="rotate-45"><div><span>Длина</span></div></th>
                                    <th class="rotate-45"><div><span>Ширина</span></div></th>
                                    <th class="rotate-45"><div><span>Высота</span></div></th>
                                    <th class="rotate-45"><div><span>Примечание</span></div></th>
                                    <th class="rotate-45"><div><span>Добавил</span></div></th>
                                </tr>

                                <tr ng-repeat-start="his in user.History track by $index" class="accordion-toggle">


                                    <td>
                                        <a ng-show="!IschildInfoHis(his)" class=" shortinfo" style="    color: #555;" href="javascript:;" ng-click="childInfoHis(his )" title="Click to view more">
                                            <i class="material-icons" data-toggle="collapse" data-target="#rowHS-{{$index}}">storage</i>

                                        </a>
                                        <a ng-show="IschildInfoHis(his)" class="red shortinfo" href="javascript:;" ng-click="childInfoHis(his )" title="Click to view more">
                                            <i class="material-icons " data-toggle="collapse" data-target="#rowHS-{{$index}}">storage</i>
                                        </a>


                                    </td>
                                    <td>
                                        <md-button class="md-icon-button  waves-effect waves-pink " ng-click="activate(his,user)">
                                            <md-icon> grade</md-icon>
                                        </md-button>


                                    </td>
                                    <td>


                                        <md-icon style="    color: rgb(255,64,129);" ng-show=" his.value.archive">archive</md-icon>

                                    </td>
                                    <td scope="row" class="special">
                                        {{his.value.Nomer_upakovki}}
                                    </td>
                                    <td class="special">

                                        {{his.value.Naimenovanie_izdeliya}}
                                    </td>
                                    <td class="special">

                                        {{his.value.Zavodskoj_nomer}}
                                    </td>
                                    <td class="special">

                                        {{his.value.Kolichestvo}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Mestonahozhdenie_na_sklade}}
                                    </td>
                                    <!--<td class="special">
                                        {{his.value.Oboznachenie}}
                                    </td>-->
                                    <td class="special">
                                        {{his.value.Sistema}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Otvetstvennyj}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Prinadlezhnost}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Data_priyoma  |  amDateFormat:'DD.MM.YYYY'}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Otkuda}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Data_vydachi  |  amDateFormat:'DD.MM.YYYY'}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Kuda}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Nomer_plomby}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Stoimost}}
                                    </td>


                                    <td class="special">
                                        {{his.value.Ves_brutto}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Ves_netto}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Dlina}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Shirina}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Vysota}}
                                    </td>

                                    <td class="special">
                                        {{his.value.Primechanie}}
                                    </td>
                                    <td class="special">
                                        {{his.value.Dobavil}}
                                    </td>
                                </tr>
                                <tr ng-repeat-end>
                                    <td colspan="23" class="noPadding">
                                        <table class="table table-striped    collapse collapsible     noPadding" id="rowHS-{{$index}}" style="width: 30%;  float: left;">
                                            <tr>
                                                <th>
                                                    Наименовани составной единицы :
                                                </th>
                                                <th>Обозначение составной единицы:</th>
                                                <th>Количество составных единиц :</th>
                                            </tr>
                                            <tr ng-repeat="u1 in his.value.Soderzhimoe">
                                                <td class="special">

                                                    {{u1.Naimenovanie_sostavnoj_edinicy}}

                                                </td>


                                                <td class="special">

                                                    {{u1.Oboznachenie_sostavnoj_edinicy}}

                                                </td>


                                                <td class="special">

                                                    {{u1.Kolichestvo_sostavnyh_edinic}}

                                                </td>

                                            </tr>




                                        </table>

                                    </td>
                                </tr>
                            </table>

                        </td>







                    </tr>



                </tbody>
                <tfoot>
                    <tr>


                        <td align="left" colspan="6   " style="    text-align: left;">




                            <paging page="pageIndex"
                                    page-size="pageSizeSelected"
                                    total="totalCount"
                                    show-prev-next="true"
                                    show-first-last="true">
                            </paging>

                            <!--<div class="pull-right">
                                <pagination total-items="totalCount" ng-change="pageChanged()" items-per-page="pageSizeSelected" direction-links="true" ng-model="pageIndex" max-size="maxSize" class="pagination" boundary-links="true" rotate="false" num-pages="numPages"></pagination>

                            </div>-->
                        </td>
                    </tr>
                </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- #END# Basic Table -->
</div>

